<html>
<body>
    <script>

function initTouchCanvas() {
    //var datadiv = document.getElementById('datadiv');
  //datadiv.style.display = 'none';
    var canvas = document.getElementById("mycanvas");
  canvas.style.display = 'block';
    canvas.addEventListener("touchstart", draw, false);
  canvas.addEventListener("mousedown", drawMouse, false);

}



  function draw(event) {
  
   var canvas = document.getElementById('mycanvas');
    var offset  = getOffset(canvas);
    var datadiv = document.getElementById('datadiv');
    //datadiv.innerHTML = 'offsetLeft: ' + offset.left + ', offsetTop: ' + offset.top;
    if (canvas.getContext) {
      var ctx = canvas.getContext("2d");
 

   ctx.fillStyle = '#ff0000';
   ctx.fillRect(event.touches[0].pageX-offset.left, event.touches[0].pageY-offset.top, 5, 5);

   
  }
 }
 
  function drawMouse(event) {
  
   var canvas = document.getElementById('mycanvas');
    var offset  = getOffset(canvas);
    var datadiv = document.getElementById('datadiv');

    if (canvas.getContext) {
      var ctx = canvas.getContext("2d");

   ctx.fillStyle = '#ff0000';
   ctx.fillRect(event.pageX-offset.left, event.pageY-offset.top, 5, 5);

  }
 } 
 

function getOffset(obj) {
    var offsetLeft = 0;
  var offsetTop = 0;
    do {
      if (!isNaN(obj.offsetLeft)) {
          offsetLeft += obj.offsetLeft;
      }
      if (!isNaN(obj.offsetTop)) {
          offsetTop += obj.offsetTop;
      }   
    } while(obj = obj.offsetParent );
    return {left: offsetLeft, top: offsetTop};
}  
  
    
</script>
<canvas id="mycanvas" width="662" height="373" style="border: 1px solid rgb(204, 204, 204); display: block;"><br>
Canvas element not supported<br>
</canvas>

</body>
</html>